(function(a){a.accelerometerSlider=function(j,q){var f={on:"orientation",minGamma:25,resetGamma:15,sensibility:4,minTime:500,callback:null,images:null,effect:"fade",effectDuration:500,movePercent:20,responsive:false,responsiveSpeed:200,responsiveWidth:"",responsiveHeight:"",acceleration:true,exclude:".slider-content"};var l=this;var i;l.settings={};var p=a(j),j=j;l.init=function(){l.settings=a.extend({},f,q);i={inSwipe:false,pos:0,lastAction:0,lastTime:0,eventHandler:null,mouseDown:0,mouseUp:0,scrollY:0,use3D:true,useComplex3D:true,prefix:""};i.prefix=c();i.use3D=l.settings.acceleration&&(i.prefix!="no");i.useComplex3D=navigator.userAgent.toLowerCase().indexOf("android")<0;var r=m(p);p.css({position:"relative",overflow:"hidden"});var s=0;p.children().not(l.settings.exclude).each(function(){var t=a(this);t.css({cursor:"move","background-color":r});if(s>0){t.css({display:"none"})}s++});e()};l.swipe=function(w,v){if(i.inSwipe){return}i.inSwipe=true;var C=i.pos;i.pos+=w>0?1:-1;var D=w>0?-1:1;var t=p.children().not(l.settings.exclude).get();var r=t.length;i.pos=i.pos>r-1?0:i.pos<0?r-1:i.pos;if(i.pos>r-1){i.pos=0;D=-1}else{if(i.pos<0){i.pos=r;D=1}}var A;var z=t[C];var x=t[i.pos];var F=a(z).outerHeight();var s=a(z).outerWidth();i.height=a(x).outerHeight();i.width=a(x).outerWidth();switch(l.settings.effect){case"fade":A={current:{finish:{opacity:0}},next:{start:{position:"absolute",top:"0px",left:"0px",opacity:0,width:s+"px",height:F+"px",display:"block"},finish:{opacity:1}}};l.startSwipe({current:z,next:x,props:A,accelerate:i.use3D});break;case"slidein":var u=s*D;A={current:{start:{position:"relative",top:"0px",left:"0px","z-index":"1"},finish:{left:"0px"},},next:{start:{position:"absolute",top:"0px",left:u+"px",width:s+"px",height:F+"px",display:"block","z-index":"10"},finish:{left:"0px"},transform:"translate3d("+(-u)+"px,0px,0px)"}};l.startSwipe({current:z,next:x,props:A,accelerate:i.use3D});break;case"slideinout":A={current:{start:{position:"relative",top:"0px",left:"0px"},finish:{left:(s*D*-1)+"px"},transform:"translate3d("+(s*D*-1)+"px,0,0)"},next:{start:{position:"absolute",top:"0px",left:(s*D-3*D)+"px",width:s+"px",height:F+"px",display:"block"},finish:{left:"0px"},transform:"translate3d("+(s*D*-1)+"px,0px,0px)"}};l.startSwipe({current:z,next:x,props:A,accelerate:i.use3D});break;case"toss":var B=p.offset().top-a(window).scrollTop();var u=p.offset().left-a(window).scrollLeft();var y=(u-s)*D;var E=(B-F)*D;A={apply:true,current:{start:{position:"fixed",left:u+"px",top:B+"px",width:s+"px",height:F+"px",opacity:"1"},finish:{opacity:"0",left:y+"px",top:E+"px"},transform:"translate3d("+y+"px,"+E+"px,0px)"},next:{start:{position:"static",left:"0px",top:"0px",opacity:"0",display:"block"},finish:{opacity:"1"},transform:"translate3d(0px,0px,0px)"}};l.startSwipe({current:z,next:x,props:A,accelerate:i.use3D});break}i.lastAction=w;i.lastTime=v};l.startSwipe=function(t){var t=a.extend({current:null,next:null,props:null,accelerate:true,duration:-1,callback:null,},t);var v=t.duration>-1?t.duration:l.settings.effectDuration;var u=t.accelerate&&((t.props.current&&t.props.current.transform)||(t.props.next&&t.props.next.transform));if(u){if(t.props.current){delete t.props.current.finish.left}if(t.props.current){delete t.props.current.finish.top}if(t.props.next){delete t.props.next.finish.left}if(t.props.next){delete t.props.next.finish.top}var s=t.props.apply?t.props.current.finish:null;var r=t.props.apply&&t.props.next?t.props.next.finish:null;if(t.props.current&&t.props.current.start){b(t.current,t.props.current.start,t.duration)}if(t.props.next&&t.props.next.start){b(t.next,t.props.next.start,t.duration)}if(t.props.current){o(t.current,s,t.props.current.transform)}if(t.props.next){o(t.next,r,t.props.next.transform)}if(t.duration<0||t.callback!=null&&!t.done){h(t.current,t.next,t.callback)}}else{if(t.props.current&&t.props.current.start){n(t.current,t.props.current.start)}if(t.props.next&&t.props.next.start){n(t.next,t.props.next.start)}if(t.props.current){k(t.current,null,t.props.current.finish,t.duration)}if(t.props.next){k(t.current,t.next,t.props.next.finish,t.duration)}}return u};l.responsive=function(v,t,r,w){var s={apply:true,current:{start:{position:"relative",left:"0px",top:"0px"},finish:{width:t+"px",height:r+"px"},transform:"translate3d(0px,0px,0px)"}};var u=l.startSwipe({current:v,props:s,accelerate:i.use3D,duration:w});if(u){a(v).bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){var x={};x[i.prefix+"transition-property"]="none";x[i.prefix+"transition-duration"]="";x[i.prefix+"transition-timing-function"]="";x[i.prefix+"transform"]="";a(v).css(x).css({position:"static",height:l.settings.responsiveWidth,width:l.settings.responsiveHeight});a(v).unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd");if(l.settings.callback!=null&&typeof(l.settings.callback)==="function"){l.settings.callback.call()}})}};l.destroy=function(){if(i.eventHandler){window.removeEventListener("devicemotion deviceorientation",i.eventHandler,true)}$elements.children().unbind("mousedown touchstart touchmove mouseup touchend")};var o=function(t,s,r){var u=a(t);var v={};v[i.prefix+"transform"]=r;if(s!=null){u.css(s)}u.css(v)};var b=function(t,s,v){v=v>-1?v:l.settings.effectDuration;var w={};w[i.prefix+"transition-property"]="all";w[i.prefix+"transition-duration"]=v+"ms";w[i.prefix+"transition-timing-function"]="ease-in-out";var u=a(t);if(s!=null){u.css(s)}var r=window.getComputedStyle(t,null);for(var x in s){u.css(x,r.getPropertyValue(x))}u.css(w)};var n=function(s,r){var t=a(s);if(r!=null){t.css(r)}};var k=function(w,s,r,t){var v=s!=null?a(s):a(w);var u=t>-1?t:l.settings.effectDuration;v.animate(r,u,function(){if(l.settings.responsive&&(t<0&&s!=null)){if(w!=null&&s!=null){a(w).css("display","none")}l.responsive(v,i.width,i.height,l.settings.responsiveSpeed)}else{if(t>-1){return}if(w!=null){a(w).css(r).css("display","none")}if(s!=null){v.css(r).css("position","static")}if(s!=null&&l.settings.responsive){v.css({height:l.settings.responsiveWidth,width:l.settings.responsiveHeight})}if(l.settings.callback!=null&&typeof(l.settings.callback)==="function"){l.settings.callback.call()}}i.inSwipe=false})};var h=function(t,s,u){if(u!=null){var r=s!=null?a(s):a(t);r.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",u)}else{a(s).bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){var v={};v[i.prefix+"transition-property"]="none";v[i.prefix+"transition-duration"]="";v[i.prefix+"transition-timing-function"]="";v[i.prefix+"transform"]="";if(t!=null){a(t).css(v).css("display","none")}a(s).css(v).css({position:"static"});if(l.settings.responsive){l.responsive(s,i.width,i.height,l.settings.responsiveSpeed)}else{a(s).unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd");if(l.settings.callback!=null&&typeof(l.settings.callback)==="function"){l.settings.callback.call()}}i.inSwipe=false})}};var e=function(){i.lastTime=Date.now();p.children().each(function(){a(this).bind("mousedown touchstart",function(r){if(r.originalEvent.touches){i.mouseDown=r.originalEvent.touches[0].pageX;i.scrollY=r.originalEvent.touches[0].pageY}else{i.mouseDown=r.pageX;i.scrollY=r.pageY;r.stopPropagation();return false}}).bind("touchmove",function(s){i.mouseUp=s.originalEvent.touches[0].pageX;var r=s.originalEvent.touches[0].pageY;if(Math.abs(i.mouseUp-i.mouseDown)>Math.abs(r-i.scrollY)){s.stopPropagation();return false}}).bind("mouseup touchend",function(t){if(!t.originalEvent.touches){i.mouseUp=t.pageX}var r=i.mouseUp-i.mouseDown;var s=p.outerWidth();var u=l.settings.movePercent*s/100;if(Math.abs(r)>u){l.swipe(r,0);t.preventDefault();return false}}).bind("dragstart",function(r){r.preventDefault()})});if(l.settings.on=="orientation"){window.addEventListener("deviceorientation",i.eventHandler=function(s){var r=s.gamma;var t=Date.now();if(t-i.lastTime<l.settings.minTime){return false}if(r>=-l.settings.resetGamma&&r<=l.settings.resetGamma){i.lastAction=0}if(i.lastAction<=-l.settings.minGamma&&r<=-l.settings.minGamma){return}if(i.lastAction>=l.settings.minGamma&&r>=l.settings.minGamma){return}if(r>=l.settings.minGamma||r<=-l.settings.minGamma){l.swipe(r,t)}return true},true)}else{if(l.settings.on=="motion"){window.ondevicemotion=function(s){var r=s.acceleration.x;var t=Date.now();if(t-l.settings.lastTime<l.settings.minTime){return false}if(r>=l.settings.sensibility||r<=-l.settings.sensibility){l.swipe(r,t)}}}}return i};var c=function(){var r=d();if(r.msie&&r.version<10){return"no"}if(r.opera&&r.version<15){return"no"}var w=document.createElement("div"),u=["-webkit-","-moz-","-o-",""],s=u.length,t;while(s--){t=u[s];try{w.style.cssText=t.toLowerCase()+"transform:translate3d(0,0,0);";if(typeof w.style[t+"transform"]!="undefined"){return t}}catch(v){}}return"no"};var m=function(s){var r=s.css("background-color");if(r.length==0){r=s.css("background")}if(r=="rgba(0, 0, 0, 0)"||r=="transparent"){r=""}if(r.length>0||s.is("body")){return r}else{return m(s.parent())}};var g=function(s){s=s.toLowerCase();var r=/(chrome)[ \/]([\w.]+)/.exec(s)||/(webkit)[ \/]([\w.]+)/.exec(s)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(s)||/(msie) ([\w.]+)/.exec(s)||s.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(s)||[];return{browser:r[1]||"",version:r[2]||"0"}};var d=function(){var r=g(navigator.userAgent);var s={};if(r.browser){s[r.browser]=true;s.version=r.version}if(s.chrome){s.webkit=true}else{if(s.webkit){s.safari=true}}return s};l.init()};a.fn.accelerometerSlider=function(b){return this.each(function(){if(undefined==a(this).data("accelerometerSlider")){var c=new a.accelerometerSlider(this,b);a(this).data("accelerometerSlider",c)}})}})(jQuery);
